{"version":3,"file":"static/js/471.63dd9cde.chunk.js","mappings":"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","sources":["components/reUseComponents/Dashboard/Dashboard.module.css","components/reUseComponents/Dashboard/Dashboard.jsx","redux/books/readingBook/readingBookSelectors.js","components/ReadingBook/MyBook/MyBook.module.css","components/ReadingBook/MyBook/MyBook.jsx","components/ReadingBook/Progress/Progress.jsx","components/Forms/AddReadingForm/AddReadingForm.module.css","components/Forms/AddReadingForm/AddReadingForm.jsx","webpack://read-journey-project/./src/components/ReadingBook/Details/Details.module.css?fa87","components/ReadingBook/Diary/Diary.jsx","components/ReadingBook/Statistics/Statistics.jsx","components/ReadingBook/Details/Details.jsx","pages/ReadingPage/ReadingPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import css from './Dashboard.module.css';\n\nconst Dashboard = ({ children }) => {\n  return <section className={css.dashboard}>{children}</section>;\n};\nexport default Dashboard;\n","export const selectReadingBook = state => state.reading.readingBook;\nexport const selectReadingIsLoading = state => state.reading.isLoading;\nexport const selectReadingError = state => state.reading.error;\nexport const selectIsWhileReading = state => state.reading.isWhileReading;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useSelector } from 'react-redux';\nimport css from './MyBook.module.css';\nimport { defaultImageBookbigPng } from 'assets/images/defaultImages/defaultImages';\nimport { selectIsWhileReading } from '../../../redux/books/readingBook/readingBookSelectors';\n\nconst MyBook = ({ book }) => {\n  const isWhileReading = useSelector(selectIsWhileReading);\n  const { imageUrl, title, author } = book;\n  return (\n    <section>\n      <h2>My reading</h2>\n      <div>\n        <img src={imageUrl ? imageUrl : defaultImageBookbigPng} alt={title} />\n        <h3>{title}</h3>\n        <p>{author}</p>\n      </div>\n      {isWhileReading ? (\n        <span className={css.indicatorStop}>STOP</span>\n      ) : (\n        <span className={css.indicatorStart}>START</span>\n      )}\n    </section>\n  );\n};\nexport default MyBook;\n","// import css from './Progress.module.css'\nconst Progress = () => {\n  return (\n    <>\n      <h3>Progress</h3>\n      <p>\n        Here you will see when and how much you read. To record, click on the\n        button above.\n      </p>\n      <p>ðŸŒŸ</p>\n    </>\n  );\n};\nexport default Progress;\n","// extracted by mini-css-extract-plugin\nexport default {};","import css from './AddReadingForm.module.css';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport {\n  finishReadingThunk,\n  startReadingThunk,\n} from '../../../redux/books/readingBook/readingBookOperations';\nimport { useState } from 'react';\n\nconst AddReadingForm = ({ book }) => {\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const { _id, totalPages, progress } = book;\n  const dispatch = useDispatch();\n\n  const isBookFirstRender = progress\n    .map(point => point.status)\n    .some(value => value === 'active');\n\n  const [isActive, setIsActive] = useState(isBookFirstRender);\n  const isAct = isFirstRender ? isBookFirstRender : isActive;\n\n  const schema = Yup.object({\n    page: Yup.number()\n      .required('Enter page number')\n      .typeError('Hmm... I think this is not a number :)')\n      .min(1)\n      .max(`${totalPages}`),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n    reset,\n  } = useForm({ mode: 'onChange', resolver: yupResolver(schema) });\n\n  const togleOnSubmit = async ({ page }) => {\n    const sentData = {\n      id: _id,\n      page: page,\n    };\n    try {\n      if (isAct) {\n        await dispatch(finishReadingThunk(sentData));\n        setIsActive(false);\n      } else {\n        await dispatch(startReadingThunk(sentData));\n        setIsActive(true);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsFirstRender(false);\n      reset();\n    }\n  };\n\n  return (\n    <>\n      {isAct ? <p>Stop page:</p> : <p>Start page:</p>}\n\n      <form\n        onSubmit={handleSubmit(togleOnSubmit)}\n        autoComplete=\"off\"\n        className={css.libraryForm}\n      >\n        <label htmlFor=\"page\">Page number:</label>\n        <input type=\"text\" name=\"page\" id=\"page\" {...register('page')} />\n        <p>{errors.page?.message}</p>\n        <button disabled={!isValid} className={css.formBtn}>\n          {isAct ? 'To stop' : 'To start'}\n        </button>\n      </form>\n    </>\n  );\n};\nexport default AddReadingForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"active\":\"Details_active__juBcP\"};","// import css from './Diary.module.css'\n\n// import { formatingDate } from 'helpers/formatingDate';\n\nconst Diary = ({ book }) => {\n  const {\n    progress,\n    // totalPages\n  } = book;\n  return (\n    <>\n      <ul>\n        {progress.map(\n          ({\n            startPage,\n            finishPage,\n            startReading,\n            finishReading,\n            _id,\n            speed,\n            status,\n          }) => (\n            <li key={_id}>\n              {/* <p>{formatingDate(finishReading)}</p> */}\n              {/* <p>startPage: {startPage}</p>\n              <p>finishPage: {finishPage}</p>\n              <p>startReading: {startReading}</p>\n              <p>finishReading: {finishReading}</p> */}\n            </li>\n          )\n        )}\n      </ul>\n    </>\n  );\n};\nexport default Diary;\n","// import css from './Statistics.module.css'\n\nconst Statistics = () => {\n  return <>STATISTICS</>;\n};\nexport default Statistics;\n","import css from './Details.module.css';\n\nimport { useState } from 'react';\nimport Diary from '../Diary/Diary';\nimport Statistics from '../Statistics/Statistics';\n\nconst Details = ({ book }) => {\n  const [activeChild, setActiveChild] = useState('Diary');\n  // const { progress } = book;\n  // console.log('progress: ', progress);\n  return (\n    <>\n      <div className={css.navigationLinks}>\n        <button\n          onClick={() => setActiveChild('Diary')}\n          className={`${css.navLink} ${activeChild === 'Diary' && css.active}`}\n        >\n          Diary\n        </button>\n        <button\n          onClick={() => setActiveChild('Statistics')}\n          className={`${css.navLink} ${\n            activeChild === 'Statistics' && css.active\n          }`}\n        >\n          Statistics\n        </button>\n      </div>\n      {activeChild === 'Diary' && <Diary book={book} />}\n      {activeChild === 'Statistics' && <Statistics />}\n    </>\n  );\n};\nexport default Details;\n","// import css from './ReadingPage.module.css'\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { getRedingBookThunk } from '../../redux/books/readingBook/readingBookOperations';\nimport {\n  selectReadingBook,\n  selectReadingIsLoading,\n} from '../../redux/books/readingBook/readingBookSelectors';\nimport Dashboard from 'components/reUseComponents/Dashboard/Dashboard';\nimport MyBook from 'components/ReadingBook/MyBook/MyBook';\nimport Progress from 'components/ReadingBook/Progress/Progress';\nimport AddReadingForm from 'components/Forms/AddReadingForm/AddReadingForm';\nimport Details from 'components/ReadingBook/Details/Details';\n\nconst ReadingPage = () => {\n  const location = useLocation();\n  const bookId = location.state?.bookId;\n  const book = useSelector(selectReadingBook);\n  console.log('book: ', book);\n  const isLoading = useSelector(selectReadingIsLoading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getRedingBookThunk(bookId));\n  }, [dispatch, bookId]);\n\n  if (!bookId) {\n    return <Navigate to=\"/library\" />;\n  }\n\n  return (\n    <>\n      {isLoading && <p>Loading...</p>}\n      {book && (\n        <>\n          <Dashboard>\n            <AddReadingForm book={book} />\n            {book.status === 'unread' ? <Progress /> : <Details book={book} />}\n          </Dashboard>\n          <MyBook book={book} />\n        </>\n      )}\n    </>\n  );\n};\nexport default ReadingPage;\n"],"names":["_ref","children","_jsx","className","css","selectReadingBook","state","reading","readingBook","selectReadingIsLoading","isLoading","selectIsWhileReading","isWhileReading","book","useSelector","imageUrl","title","author","_jsxs","src","defaultImageBookbigPng","alt","_Fragment","_errors$page","_useState","useState","_useState2","_slicedToArray","isFirstRender","setIsFirstRender","_id","totalPages","progress","dispatch","useDispatch","isBookFirstRender","map","point","status","some","value","_useState3","_useState4","isActive","setIsActive","isAct","schema","Yup","page","required","typeError","min","max","concat","_useForm","useForm","mode","resolver","yupResolver","register","handleSubmit","_useForm$formState","formState","errors","isValid","reset","togleOnSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","_callee","_ref2","sentData","_context","prev","next","id","finishReadingThunk","startReadingThunk","t0","console","error","finish","stop","_x","apply","arguments","onSubmit","autoComplete","htmlFor","_objectSpread","type","name","message","disabled","startPage","finishPage","startReading","finishReading","speed","activeChild","setActiveChild","onClick","Diary","Statistics","_location$state","bookId","useLocation","log","useEffect","getRedingBookThunk","Dashboard","AddReadingForm","Progress","Details","MyBook","Navigate","to"],"sourceRoot":""}