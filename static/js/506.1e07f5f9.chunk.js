"use strict";(self.webpackChunkread_journey_project=self.webpackChunkread_journey_project||[]).push([[506],{6506:function(e,t,n){n.r(t),n.d(t,{default:function(){return A}});var r,i=n(9439),o=n(1087),s=function(){var e,t,n=(0,o.lr)(),r=(0,i.Z)(n,2),s=r[0],l=r[1];return{title:null!==(e=s.get("title"))&&void 0!==e?e:"",author:null!==(t=s.get("author"))&&void 0!==t?t:"",setRecommendedFilter:function(e,t){""===t?s.delete(e):s.set(e,t),s.set("page",1),l(s)},resetRecommendedFilter:function(){l({title:"",author:""})}}},l={filterForm:"RecommendedFilter_filterForm__M5N9x"},a=n(1134),c=n(3329),d=function(){var e=s(),t=e.title,n=e.author,r=e.setRecommendedFilter,i=(0,a.cI)({defaultValues:{title:t||"",author:n||""}}),o=i.handleSubmit,d=i.setValue,u=i.watch;return(0,c.jsxs)("section",{className:l.recommendedFilter,children:[(0,c.jsx)("p",{children:"Filters:"}),(0,c.jsxs)("form",{autoComplete:"off",className:l.filterForm,onSubmit:o((function(e){console.log("values: ",e),r("title",e.title),r("author",e.author)})),children:[(0,c.jsxs)("div",{className:l.inputWrapper,children:[(0,c.jsx)("label",{htmlFor:"title",children:"Book title:"}),(0,c.jsx)("input",{type:"text",name:"title",id:"title",onChange:function(e){d("title",e.target.value)},value:u("title")})]}),(0,c.jsxs)("div",{className:l.inputWrapper,children:[(0,c.jsx)("label",{htmlFor:"author",children:"The author:"}),(0,c.jsx)("input",{type:"text",name:"author",id:"author",onChange:function(e){d("author",e.target.value)},value:u("author")})]}),(0,c.jsx)("button",{type:"submit",children:"To apply"})]})]})},u={},h=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h3",{children:"Start your workout"}),(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{children:"1"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{children:"Create a personal library:"})," add the books you intend to read to it."]})]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("div",{children:"2"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("span",{children:"Create your first workout:"})," define a goal, choose a period, start training."]})]})]}),(0,c.jsx)(o.rU,{className:u.functionalityLink,to:"/library",children:"My library"})]})},m=function(){return(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{children:"SVG \u0437\u0430\u0433\u043b\u0443\u0448\u043a\u0430"}),(0,c.jsxs)("p",{children:['"Books are ',(0,c.jsx)("span",{children:"windows"}),' to the world, and reading is a journey into the unknown."']})]})},j="Paginator_paginator__MTku1",x=function(e){var t=e.setPage,n=e.page,r=e.totalPages;return(0,c.jsxs)("ul",{className:j,children:[(0,c.jsx)("li",{children:(0,c.jsx)("button",{type:"button",disabled:1===n,onClick:function(){t(n-1)},children:"Left"})}),(0,c.jsx)("li",{children:(0,c.jsx)("button",{type:"button",disabled:n===r,onClick:function(){t(n+1)},children:"Right"})})]})},f=function(e){var t=e.book,n=t.author,r=t.imageUrl,i=t.title,o=t.totalPages;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:r,alt:i}),(0,c.jsx)("h3",{children:i}),(0,c.jsx)("p",{children:n}),(0,c.jsx)("p",{children:o})]})},p="RecommendedBooksItem_modalOpenBtn__ijhEG",g="RecommendedBooksItem_bookImage__M0zEw",v="Modal_backdrop__EiMyu",b="Modal_modal__8P5D2",k="Modal_modalCloseBtn__DvDur",y=n(4596),_=n(2791),w=function(e){var t=e.children,n=e.isOpen,r=e.closeFnc,i=(0,_.useCallback)((function(){n&&r()}),[n,r]);(0,_.useEffect)((function(){var e=function(e){"Escape"===e.code&&i()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[i]);return(0,c.jsx)("div",{className:v,onClick:function(e){e.target===e.currentTarget&&i()},children:(0,c.jsxs)("div",{className:b,children:[(0,c.jsx)("button",{className:k,onClick:i,children:(0,c.jsx)("svg",{width:"22",height:"22","aria-label":"cross icon",children:(0,c.jsx)("use",{href:y.Z+"#icon-sross"})})}),t]})})},F=n(4420),N=function(e){var t=e.title,n=e.btnFunction;return(0,c.jsx)("button",{type:"button",onClick:n,children:t})},C=n(746),P=function(e){var t=e.book,n=(0,F.I0)(),r=(0,_.useState)(!1),o=(0,i.Z)(r,2),s=o[0],l=o[1],a=t.author,d=t.imageUrl,u=t.title,h=t._id;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("button",{type:"button",onClick:function(){l(!0)},className:p,children:(0,c.jsx)("img",{src:d,alt:u,className:g})}),(0,c.jsx)("h4",{children:u}),(0,c.jsx)("p",{children:a})]}),s&&(0,c.jsxs)(w,{isOpen:s,closeFnc:function(){l(!1)},children:[(0,c.jsx)(f,{book:t}),(0,c.jsx)(N,{title:"Add to library",btnFunction:function(){return n((0,C.Lc)(h))}})]})]})},L=function(e){return e.recommended.recommended},R=function(e){return e.recommended.totalPages},E=function(e){return e.recommended.isLoading},M=function(e){return e.recommended.error},I=n(6389),Z="mobile",B="tablet",S="desktop",O=768,T=1440,U=function(e){var t,n,r=(0,o.lr)(),s=(0,i.Z)(r,2),l=s[0],a=s[1],c=null!==(t=l.get("page"))&&void 0!==t?t:1,d=null!==(n=l.get("limit"))&&void 0!==n?n:e[window.innerWidth>=T?S:window.innerWidth>=O?B:Z];return{page:Number(c),limit:Number(d),setPage:function(e){l.set("page",e),a(l)},setLimit:function(e){l.set("limit",e),a(l)}}},W=n(4942),D=(r={},(0,W.Z)(r,Z,2),(0,W.Z)(r,B,8),(0,W.Z)(r,S,10),r),V=function(){var e=U(D),t=e.page,n=e.limit,r=e.setPage,i=s(),o=i.title,l=i.author,a=(0,F.I0)(),d=(0,F.v9)(L),u=(0,F.v9)(R),h=(0,F.v9)(E),m=(0,F.v9)(M);return(0,_.useEffect)((function(){var e=t;(isNaN(parseInt(t))||t<=0)&&(e=1);var r=new URLSearchParams({page:e,limit:n});o&&r.set("title",o),l&&r.set("author",l),a((0,I.Q)(r))}),[a,t,n,o,l]),(0,c.jsxs)("section",{children:[m&&(0,c.jsx)("p",{children:"Oops, something went wrong."}),(0,c.jsx)("h2",{children:"Recommended"}),h&&(0,c.jsx)("p",{children:"Loading..."}),u>0?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x,{setPage:r,page:t,totalPages:u}),(0,c.jsx)("ul",{children:d.map((function(e){return(0,c.jsx)(P,{book:e},e._id)}))})]}):(0,c.jsx)("p",{children:" Nothing found"})]})},G={},z=function(e){var t=e.children;return(0,c.jsx)("section",{className:G.dashboard,children:t})},A=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(z,{children:[(0,c.jsx)(d,{}),(0,c.jsx)(h,{}),(0,c.jsx)(m,{})]}),(0,c.jsx)(V,{})]})}}}]);
//# sourceMappingURL=506.1e07f5f9.chunk.js.map