"use strict";(self.webpackChunkread_journey_project=self.webpackChunkread_journey_project||[]).push([[325],{7642:function(e,r,t){t.d(r,{Z:function(){return c}});var n="BookInfoComponent_bookInfoWrapper__gAI5R",o="BookInfoComponent_author__X+erf",s="BookInfoComponent_pages__RDM4j",a=t(7766),i=t(3329),c=function(e){var r=e.book,t=r.author,c=r.imageUrl,l=r.title,d=r.totalPages;return(0,i.jsxs)("div",{className:n,children:[(0,i.jsx)("img",{src:c||a.BZ,alt:l}),(0,i.jsx)("h3",{children:l}),(0,i.jsx)("p",{className:o,children:t}),(0,i.jsx)("p",{className:s,children:d})]})}},3978:function(e,r,t){t.d(r,{Z:function(){return l}});var n="Modal_backdrop__EiMyu",o="Modal_modal__8P5D2",s="Modal_modalCloseBtn__DvDur",a=t(4596),i=t(2791),c=t(3329),l=function(e){var r=e.children,t=e.isOpen,l=e.closeFnc,d=(0,i.useCallback)((function(){t&&l()}),[t,l]);(0,i.useEffect)((function(){var e=function(e){"Escape"===e.code&&d()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[d]);return(0,c.jsx)("div",{className:n,onClick:function(e){e.target===e.currentTarget&&d()},children:(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)("button",{className:s,onClick:d,children:(0,c.jsx)("svg",{width:"22",height:"22","aria-label":"cross icon",children:(0,c.jsx)("use",{href:a.Z+"#icon-sross"})})}),r]})})}},3974:function(e,r,t){t.d(r,{Z:function(){return s}});var n="UniversalButton_universalbtn__DCYzD",o=t(3329),s=function(e){var r=e.title,t=e.btnFunction;return(0,o.jsx)("button",{type:"button",onClick:t,className:n,children:r})}},4163:function(e,r,t){t.r(r),t.d(r,{default:function(){return ne}});var n="MyLibraryPage_libraryPageWrapper__twaAy",o=t(1413),s=t(5861),a=t(9439),i=t(7757),c=t.n(i),l={formTitile:"MyLibraryForm_formTitile__Wwd2H",libraryForm:"MyLibraryForm_libraryForm__x8HFe",inputWrapper:"MyLibraryForm_inputWrapper__KcMJ-",titleInput:"MyLibraryForm_titleInput__t53eH",authorInput:"MyLibraryForm_authorInput__p8hWU",pagesInput:"MyLibraryForm_pagesInput__yVhGw",error:"MyLibraryForm_error__piFXI",correct:"MyLibraryForm_correct__T3env",errorMessage:"MyLibraryForm_errorMessage__qJAvU",correctMessage:"MyLibraryForm_correctMessage__k6AuD",formBtn:"MyLibraryForm_formBtn__v+rG-",formBnt:"MyLibraryForm_formBnt__4MAeZ"},d=t(1134),u=t(2791),m=t(4695),h=t(8007),_=t(4420),p=t(746),y=t(3978),f="SuccesNotification_notificationWrapper__sDU4Q",x="SuccesNotification_likeImage__vxSyh",b="SuccesNotification_notificationDescr__TPyP6",j="SuccesNotification_notificationDescrAccent__1CZLe",g=t(7766),v=t(3329),k=function(){return(0,v.jsxs)("div",{className:f,children:[(0,v.jsx)("img",{src:g.IL,alt:"like",className:x}),(0,v.jsx)("h3",{children:"Good job"}),(0,v.jsxs)("p",{className:b,children:["Your book is now in"," ",(0,v.jsx)("span",{className:j,children:"the library!"})," The joy knows no bounds and now you can start your training"]})]})},N=h.Ry({title:h.Z_().required("Book title is a required field"),author:h.Z_().required("The author is a required field"),totalPages:h.Rx().required("Number of pages is a required field").typeError("Hmm... I think this is not a number :)").min(1,"There must be more than 0 pages")}),L=function(){var e,r,t,n=(0,_.I0)(),i=(0,u.useState)(!1),h=(0,a.Z)(i,2),f=h[0],x=h[1],b=(0,d.cI)({mode:"onChange",resolver:(0,m.X)(N)}),j=b.register,g=b.handleSubmit,L=b.formState,M=L.errors,B=L.isValid,I=L.dirtyFields,F=b.reset,Z=function(){var e=(0,s.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n((0,p.lY)(r)).unwrap();case 3:F(),x(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsxs)("section",{className:l.libraryFormSection,children:[(0,v.jsx)("p",{className:l.formTitile,children:"Create your library:"}),(0,v.jsxs)("form",{onSubmit:g(Z),autoComplete:"off",className:l.libraryForm,children:[(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"title",children:"Book title:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"title",id:"title"},j("title")),{},{className:"".concat(l.titleInput," ").concat(M.title&&l.error," \n            ").concat(I.title&&!M.title&&l.correct)})),(null===M||void 0===M?void 0:M.title)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(e=M.title)||void 0===e?void 0:e.message}),I.title&&!M.title&&(0,v.jsx)("p",{className:l.correctMessage,children:"Fitting title"})]}),(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"author",children:"The author:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"author",id:"author"},j("author")),{},{className:"".concat(l.authorInput," ").concat(M.author&&l.error," \n            ").concat(I.author&&!M.author&&l.correct)})),(null===M||void 0===M?void 0:M.author)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(r=M.author)||void 0===r?void 0:r.message}),I.author&&!M.author&&(0,v.jsx)("p",{className:l.correctMessage,children:"Fitting author"})]}),(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"pages",children:"Number of pages:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"pages",id:"pages"},j("totalPages")),{},{className:"".concat(l.pagesInput," ").concat(M.totalPages&&l.error," \n            ").concat(I.totalPages&&!M.totalPages&&l.correct)})),(null===M||void 0===M?void 0:M.totalPages)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(t=M.totalPages)||void 0===t?void 0:t.message}),I.totalPages&&!M.totalPages&&(0,v.jsx)("p",{className:l.correctMessage,children:"Almost done"})]}),(0,v.jsx)("button",{type:"submit",disabled:!B,className:l.formBtn,children:"Add book"})]}),f&&(0,v.jsx)(y.Z,{isOpen:f,closeFnc:function(){x(!1)},children:(0,v.jsx)(k,{})})]})},M="MyLibraryBooksList_libraryBooks__Gg5lX",B="MyLibraryBooksList_libraryBooksTitle__IQGIX",I="MyLibraryBooksList_libraryBooksList__fetOP",F="MyLibraryBooksList_noContentBox__2E29D",Z="MyLibraryBooksList_imgWrapper__Cm-zJ",w="MyLibraryBooksList_booksImage__Z9K8+",C=function(e){return e.library.libraryBooks},S=function(e){return e.library.isLoading},P=function(e){return e.library.error},W="MyLibraryBooksItem_modalOpenBtn__sFJ1A",R="MyLibraryBooksItem_bookImage__OI0l1",T="MyLibraryBooksItem_descriptionWrapper__1cGlY",D="MyLibraryBooksItem_libraryBooksItem__mNYmn",U="MyLibraryBooksItem_deleteBtn__NZnmH",E="MyLibraryBooksItem_btnWrapper__pvMzW",A=t(4596),q=t(7642),O=t(3974),G=t(7689),H=function(e){var r=e.book,t=r.author,n=r.imageUrl,o=r.title,s=r._id,i=(0,_.I0)(),c=(0,G.s0)(),l=(0,u.useState)(!1),d=(0,a.Z)(l,2),m=d[0],h=d[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{className:D,children:[(0,v.jsx)("button",{type:"button",onClick:function(){h(!0)},className:W,children:(0,v.jsx)("img",{src:n||g.BZ,alt:o,className:R})}),(0,v.jsxs)("div",{className:E,children:[(0,v.jsxs)("div",{className:T,children:[(0,v.jsx)("h4",{children:o}),(0,v.jsx)("p",{children:t})]}),(0,v.jsx)("button",{type:"button",className:U,onClick:function(){i((0,p.uX)(s))},children:(0,v.jsx)("svg",{width:"14",height:"14","aria-label":"trash icon",children:(0,v.jsx)("use",{href:A.Z+"#icon-trash"})})})]})]}),m&&(0,v.jsxs)(y.Z,{isOpen:m,closeFnc:function(){h(!1)},children:[(0,v.jsx)(q.Z,{book:r}),(0,v.jsx)(O.Z,{title:"Start reading",btnFunction:function(){c("/reading",{state:{bookId:s}})}})]})]})},X=function(){var e=(0,_.v9)(C),r=(0,_.v9)(S),t=(0,_.v9)(P),n=(0,_.I0)();return(0,u.useEffect)((function(){n((0,p.nl)())}),[n]),(0,v.jsxs)("section",{className:M,children:[t&&(0,v.jsx)("p",{children:"Oops, something went wrong."}),(0,v.jsx)("h2",{className:B,children:"My library"}),r&&(0,v.jsx)("p",{children:"Loading..."}),0!==e.length?(0,v.jsx)("ul",{className:I,children:e.map((function(e){return(0,v.jsx)(H,{book:e},e._id)}))}):(0,v.jsxs)("div",{className:F,children:[(0,v.jsx)("div",{className:Z,children:(0,v.jsx)("img",{src:g.PN,alt:"like",className:w})}),(0,v.jsxs)("p",{children:["To start training, add ",(0,v.jsx)("span",{children:"some of your books"})," or from the recommended ones"]})]})]})},J="RecommendedBlok_recommendedSection__vTML0",Y="RecommendedBlok_recommendedSectionList__uTqvU",z="RecommendedBlok_recommendedSectionListItem__RdJKu",K="RecommendedBlok_recommendedLinkWrapper__hFR3i",Q="RecommendedBlok_recommendedLink__L2MhS",V="RecommendedBlok_recommendedLinkSvg__7LDoN",$=t(6389),ee=t(1087),re=function(){var e=(0,_.I0)(),r=(0,u.useState)([]),t=(0,a.Z)(r,2),n=t[0],o=t[1];return(0,u.useEffect)((function(){var r=function(){var r=(0,s.Z)(c().mark((function r(){var t,n,s;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=new URLSearchParams({limit:30}),r.prev=1,r.next=4,e((0,$.Q)(t)).unwrap();case 4:n=r.sent,a=n.results,i=3,s=a.slice().sort((function(){return Math.random()-.5})).slice(0,i),o(s),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error("Error fetching recommended books:",r.t0);case 12:case"end":return r.stop()}var a,i}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]),(0,v.jsxs)("section",{className:J,children:[(0,v.jsx)("h3",{children:"Recommended books"}),(0,v.jsx)("ul",{className:Y,children:n.map((function(e){var r=e.imageUrl,t=e.title,n=e.author,o=e._id;return(0,v.jsxs)("li",{className:z,children:[(0,v.jsx)("img",{src:r||g.BZ,alt:t}),(0,v.jsx)("h4",{children:t}),(0,v.jsx)("p",{children:n})]},o)}))}),(0,v.jsxs)("div",{className:K,children:[(0,v.jsx)(ee.rU,{className:Q,to:"/",children:"Home"}),(0,v.jsx)(ee.rU,{className:V,to:"/",children:(0,v.jsx)("svg",{"aria-label":"arrow icon",children:(0,v.jsx)("use",{href:A.Z+"#icon-log-in"})})})]})]})},te=t(1809),ne=function(){return(0,v.jsxs)("div",{className:n,children:[(0,v.jsxs)(te.Z,{children:[(0,v.jsx)(L,{}),(0,v.jsx)(re,{})]}),(0,v.jsx)(X,{})]})}}}]);
//# sourceMappingURL=325.fbe79643.chunk.js.map