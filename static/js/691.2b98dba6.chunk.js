"use strict";(self.webpackChunkread_journey_project=self.webpackChunkread_journey_project||[]).push([[691],{7642:function(e,r,n){n.d(r,{Z:function(){return c}});var t="BookInfoComponent_bookInfoWrapper__gAI5R",o="BookInfoComponent_author__X+erf",i="BookInfoComponent_pages__RDM4j",a=n(7766),s=n(3329),c=function(e){var r=e.book,n=r.author,c=r.imageUrl,l=r.title,d=r.totalPages;return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("img",{src:c||a.BZ,alt:l}),(0,s.jsx)("h3",{children:l}),(0,s.jsx)("p",{className:o,children:n}),(0,s.jsx)("p",{className:i,children:d})]})}},3978:function(e,r,n){n.d(r,{Z:function(){return l}});var t="Modal_backdrop__EiMyu",o="Modal_modal__8P5D2",i="Modal_modalCloseBtn__DvDur",a=n(4596),s=n(2791),c=n(3329),l=function(e){var r=e.children,n=e.isOpen,l=e.closeFnc,d=(0,s.useCallback)((function(){n&&l()}),[n,l]);(0,s.useEffect)((function(){var e=function(e){"Escape"===e.code&&d()};return window.addEventListener("keydown",e),document.body.style.overflow="hidden",function(){window.removeEventListener("keydown",e),document.body.style.overflow="auto"}}),[d]);return(0,c.jsx)("div",{className:t,onClick:function(e){e.target===e.currentTarget&&d()},children:(0,c.jsxs)("div",{className:o,children:[(0,c.jsx)("button",{className:i,onClick:d,children:(0,c.jsx)("svg",{width:"22",height:"22","aria-label":"cross icon",children:(0,c.jsx)("use",{href:a.Z+"#icon-sross"})})}),r]})})}},3974:function(e,r,n){n.d(r,{Z:function(){return i}});var t="UniversalButton_universalbtn__DCYzD",o=n(3329),i=function(e){var r=e.title,n=e.btnFunction;return(0,o.jsx)("button",{type:"button",onClick:n,className:t,children:r})}},2045:function(e,r,n){n.r(r),n.d(r,{default:function(){return le}});var t="MyLibraryPage_libraryPageWrapper__twaAy",o=n(1413),i=n(5861),a=n(9439),s=n(4687),c=n.n(s),l={formTitile:"MyLibraryForm_formTitile__Wwd2H",libraryForm:"MyLibraryForm_libraryForm__x8HFe",inputWrapper:"MyLibraryForm_inputWrapper__KcMJ-",titleInput:"MyLibraryForm_titleInput__t53eH",authorInput:"MyLibraryForm_authorInput__p8hWU",pagesInput:"MyLibraryForm_pagesInput__yVhGw",error:"MyLibraryForm_error__piFXI",correct:"MyLibraryForm_correct__T3env",errorMessage:"MyLibraryForm_errorMessage__qJAvU",correctMessage:"MyLibraryForm_correctMessage__k6AuD",formBtn:"MyLibraryForm_formBtn__v+rG-",formBnt:"MyLibraryForm_formBnt__4MAeZ"},d=n(1134),u=n(2791),m=n(4695),h=n(8007),p=n(4420),f=n(746),_=n(3978),b="SuccesNotification_notificationWrapper__sDU4Q",g="SuccesNotification_likeImage__vxSyh",x="SuccesNotification_notificationDescr__TPyP6",y="SuccesNotification_notificationDescrAccent__1CZLe",j=n(7766),v=n(3329),k=function(){return(0,v.jsxs)("div",{className:b,children:[(0,v.jsx)("img",{src:j.IL,alt:"like",className:g}),(0,v.jsx)("h3",{children:"Good job"}),(0,v.jsxs)("p",{className:x,children:["Your book is now in"," ",(0,v.jsx)("span",{className:y,children:"the library!"})," The joy knows no bounds and now you can start your training"]})]})},Z=h.Ry({title:h.Z_().required("Book title is a required field"),author:h.Z_().required("The author is a required field"),totalPages:h.Rx().required("Number of pages is a required field").typeError("Hmm... I think this is not a number :)").min(1,"There must be more than 0 pages")}),N=function(){var e,r,n,t=(0,p.I0)(),s=(0,u.useState)(!1),h=(0,a.Z)(s,2),b=h[0],g=h[1],x=(0,d.cI)({mode:"onChange",resolver:(0,m.X)(Z)}),y=x.register,j=x.handleSubmit,N=x.formState,L=N.errors,M=N.isValid,w=N.dirtyFields,B=x.reset,I=function(){var e=(0,i.Z)(c().mark((function e(r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t((0,f.lY)(r)).unwrap();case 3:B(),g(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(r){return e.apply(this,arguments)}}();return(0,v.jsxs)("section",{className:l.libraryFormSection,children:[(0,v.jsx)("p",{className:l.formTitile,children:"Create your library:"}),(0,v.jsxs)("form",{onSubmit:j(I),autoComplete:"off",className:l.libraryForm,children:[(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"title",children:"Book title:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"title",id:"title"},y("title")),{},{className:"".concat(l.titleInput," ").concat(L.title&&l.error," \n            ").concat(w.title&&!L.title&&l.correct)})),(null===L||void 0===L?void 0:L.title)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(e=L.title)||void 0===e?void 0:e.message}),w.title&&!L.title&&(0,v.jsx)("p",{className:l.correctMessage,children:"Fitting title"})]}),(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"author",children:"The author:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"author",id:"author"},y("author")),{},{className:"".concat(l.authorInput," ").concat(L.author&&l.error," \n            ").concat(w.author&&!L.author&&l.correct)})),(null===L||void 0===L?void 0:L.author)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(r=L.author)||void 0===r?void 0:r.message}),w.author&&!L.author&&(0,v.jsx)("p",{className:l.correctMessage,children:"Fitting author"})]}),(0,v.jsxs)("div",{className:l.inputWrapper,children:[(0,v.jsx)("label",{htmlFor:"pages",children:"Number of pages:"}),(0,v.jsx)("input",(0,o.Z)((0,o.Z)({type:"text",name:"pages",id:"pages"},y("totalPages")),{},{className:"".concat(l.pagesInput," ").concat(L.totalPages&&l.error," \n            ").concat(w.totalPages&&!L.totalPages&&l.correct)})),(null===L||void 0===L?void 0:L.totalPages)&&(0,v.jsx)("p",{className:l.errorMessage,children:null===(n=L.totalPages)||void 0===n?void 0:n.message}),w.totalPages&&!L.totalPages&&(0,v.jsx)("p",{className:l.correctMessage,children:"Almost done"})]}),(0,v.jsx)("button",{type:"submit",disabled:!M,className:l.formBtn,children:"Add book"})]}),b&&(0,v.jsx)(_.Z,{isOpen:b,closeFnc:function(){g(!1)},children:(0,v.jsx)(k,{})})]})},L="MyLibraryBooksList_libraryBooks__Gg5lX",M="MyLibraryBooksList_libraryBooksTitle__IQGIX",w="MyLibraryBooksList_libraryBooksList__fetOP",B="MyLibraryBooksList_noContentBox__2E29D",I="MyLibraryBooksList_imgWrapper__Cm-zJ",F="MyLibraryBooksList_booksImage__Z9K8+",S=function(e){return e.library.libraryBooks},C=function(e){return e.library.isLoading},R=function(e){return e.library.error},P="MyLibraryBooksItem_modalOpenBtn__sFJ1A",T="MyLibraryBooksItem_bookImage__OI0l1",W="MyLibraryBooksItem_descriptionWrapper__1cGlY",D="MyLibraryBooksItem_libraryBooksItem__mNYmn",U="MyLibraryBooksItem_deleteBtn__NZnmH",z="MyLibraryBooksItem_btnWrapper__pvMzW",A=n(4596),E=n(7642),H=n(3974),q=n(7689),O=function(e){var r=e.book,n=r.author,t=r.imageUrl,o=r.title,i=r._id,s=(0,p.I0)(),c=(0,q.s0)(),l=(0,u.useState)(!1),d=(0,a.Z)(l,2),m=d[0],h=d[1];return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("li",{className:D,children:[(0,v.jsx)("button",{type:"button",onClick:function(){h(!0)},className:P,children:(0,v.jsx)("img",{src:t||j.BZ,alt:o,className:T})}),(0,v.jsxs)("div",{className:z,children:[(0,v.jsxs)("div",{className:W,children:[(0,v.jsx)("h4",{children:o}),(0,v.jsx)("p",{children:n})]}),(0,v.jsx)("button",{type:"button",className:U,onClick:function(){s((0,f.uX)(i))},children:(0,v.jsx)("svg",{width:"14",height:"14","aria-label":"trash icon",children:(0,v.jsx)("use",{href:A.Z+"#icon-trash"})})})]})]}),m&&(0,v.jsxs)(_.Z,{isOpen:m,closeFnc:function(){h(!1)},children:[(0,v.jsx)(E.Z,{book:r}),(0,v.jsx)(H.Z,{title:"Start reading",btnFunction:function(){c("/reading",{state:{bookId:i}})}})]})]})},G=n(4942),V="@media only screen and (min-width: 768px)",X={container:function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,G.Z)({position:"absolute",top:"40px",right:"20px"},V,{right:"40px"}))},control:function(e,r){return(0,o.Z)((0,o.Z)({},e),{},(0,G.Z)({width:120,padding:"12px 14px",borderRadius:"12px",border:"1px solid #3e3e3e",cursor:"pointer",boxShadow:"none",backgroundColor:"transparent","&:hover":{borderColor:"#3e3e3e"},"& .css-tj5bde-Svg":{transform:r.menuIsOpen&&"rotate(180deg)"}},V,{width:153,padding:"14px"}))},valueContainer:function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,G.Z)({padding:0,fontSize:12,fontWeight:500,lineHeight:1.33333,color:"#f9f9f9"},V,{fontSize:14,lineHeight:1.28571}))},singleValue:function(e){return(0,o.Z)((0,o.Z)({},e),{},{marginLeft:0,marginRight:0,color:"inherit"})},input:function(e){return(0,o.Z)((0,o.Z)({},e),{},{margin:0,paddingTop:0,paddingBottom:0})},indicatorSeparator:function(){return{display:"none"}},dropdownIndicator:function(e){return(0,o.Z)((0,o.Z)({},e),{},{padding:0,height:16,width:16,color:"#f9f9f9","&:hover":{color:"#f9f9f9"},"& .css-tj5bde-Svg":{width:"100%",height:"100%",transition:"transform 250ms cubic-bezier(0.4, 0, 0.2, 1)"}})},menu:function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,G.Z)({width:120,marginTop:"4px",marginBottom:0,paddingTop:"7px",paddingRight:"8px",paddingBottom:"7px",zIndex:10,backgroundColor:"#262626",borderRadius:"12px",boxShadow:"none",border:"none"},V,{width:153}))},menuList:function(e){return(0,o.Z)((0,o.Z)({},e),{},{height:"100%","&::-webkit-scrollbar":{width:6},"&::-webkit-scrollbar-track":{background:"transparent"},"&::-webkit-scrollbar-thumb":{borderRadius:10,background:"#3e3e3e"}})},option:function(e,r){return(0,o.Z)((0,o.Z)({},e),{},(0,G.Z)({paddingTop:"4px",paddingBottom:"4px",paddingLeft:"14px",paddingRight:"14px",fontSize:12,fontWeight:500,lineHeight:1.3333,letterSpacing:"-0.02em",color:r.isSelected?"#f9f9f9":"#686868",cursor:"pointer",backgroundColor:"transparent",transition:"color 250ms cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{color:"#f9f9f9"},"&:active":{backgroundColor:"transparent"}},V,{fontSize:14,lineHeight:1.28571}))}},J=n(1031),Y=function(e){var r=e.defaultValue,n=e.options,t=e.onChange;return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(J.ZP,{defaultValue:r,options:n,styles:X,onChange:function(e){return t((null===e||void 0===e?void 0:e.value)||"")}})})},K=[{value:"unread",label:"Unread"},{value:"in-progress",label:"In progress"},{value:"done",label:"Done"},{value:"",label:"All books"}],Q=function(){var e=(0,p.v9)(S),r=(0,p.v9)(C),n=(0,p.v9)(R),t=(0,p.I0)(),o=(0,u.useState)(""),s=(0,a.Z)(o,2),l=s[0],d=s[1];return(0,u.useEffect)((function(){(0,i.Z)(c().mark((function e(){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new URLSearchParams,l&&r.set("status",l),e.next=5,t((0,f.nl)(r)).unwrap();case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t,l]),(0,v.jsxs)("section",{className:L,children:[n&&(0,v.jsx)("p",{children:"Oops, something went wrong."}),(0,v.jsx)(Y,{options:K,defaultValue:K[K.length-1],onChange:function(e){d(e)}}),(0,v.jsx)("h2",{className:M,children:"My library"}),r&&(0,v.jsx)("p",{children:"Loading..."}),0!==e.length?(0,v.jsx)("ul",{className:w,children:e.map((function(e){return(0,v.jsx)(O,{book:e},e._id)}))}):(0,v.jsxs)("div",{className:B,children:[(0,v.jsx)("div",{className:I,children:(0,v.jsx)("img",{src:j.PN,alt:"book",className:F})}),(0,v.jsxs)("p",{children:["To start training, add ",(0,v.jsx)("span",{children:"some of your books"})," or from the recommended ones"]})]})]})},$="RecommendedBlok_recommendedSection__vTML0",ee="RecommendedBlok_recommendedSectionList__uTqvU",re="RecommendedBlok_recommendedSectionListItem__RdJKu",ne="RecommendedBlok_recommendedLinkWrapper__hFR3i",te="RecommendedBlok_recommendedLink__L2MhS",oe="RecommendedBlok_recommendedLinkSvg__7LDoN",ie=n(6389),ae=n(1087),se=function(){var e=(0,p.I0)(),r=(0,u.useState)([]),n=(0,a.Z)(r,2),t=n[0],o=n[1];return(0,u.useEffect)((function(){var r=function(){var r=(0,i.Z)(c().mark((function r(){var n,t,i;return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=new URLSearchParams({limit:30}),r.prev=1,r.next=4,e((0,ie.Q)(n)).unwrap();case 4:t=r.sent,a=t.results,s=3,i=a.slice().sort((function(){return Math.random()-.5})).slice(0,s),o(i),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),console.error("Error fetching recommended books:",r.t0);case 12:case"end":return r.stop()}var a,s}),r,null,[[1,9]])})));return function(){return r.apply(this,arguments)}}();r()}),[e]),(0,v.jsxs)("section",{className:$,children:[(0,v.jsx)("h3",{children:"Recommended books"}),(0,v.jsx)("ul",{className:ee,children:t.map((function(e){var r=e.imageUrl,n=e.title,t=e.author,o=e._id;return(0,v.jsxs)("li",{className:re,children:[(0,v.jsx)("img",{src:r||j.BZ,alt:n}),(0,v.jsx)("h4",{children:n}),(0,v.jsx)("p",{children:t})]},o)}))}),(0,v.jsxs)("div",{className:ne,children:[(0,v.jsx)(ae.rU,{className:te,to:"/",children:"Home"}),(0,v.jsx)(ae.rU,{className:oe,to:"/",children:(0,v.jsx)("svg",{"aria-label":"arrow icon",children:(0,v.jsx)("use",{href:A.Z+"#icon-log-in"})})})]})]})},ce=n(1809),le=function(){return(0,v.jsxs)("div",{className:t,children:[(0,v.jsxs)(ce.Z,{children:[(0,v.jsx)(N,{}),(0,v.jsx)(se,{})]}),(0,v.jsx)(Q,{})]})}}}]);
//# sourceMappingURL=691.2b98dba6.chunk.js.map