{"version":3,"file":"static/js/118.45427531.chunk.js","mappings":"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","sources":["webpack://read-journey-project/./src/pages/ReadingPage/ReadingPage.module.css?6151","redux/books/readingBook/readingBookSelectors.js","webpack://read-journey-project/./src/components/ReadingBook/MyBook/MyBook.module.css?932f","components/ReadingBook/MyBook/MyBook.jsx","webpack://read-journey-project/./src/components/ReadingBook/Progress/Progress.module.css?2e14","components/ReadingBook/Progress/Progress.jsx","webpack://read-journey-project/./src/components/Forms/AddReadingForm/AddReadingForm.module.css?221a","components/Forms/AddReadingForm/AddReadingForm.jsx","webpack://read-journey-project/./src/components/ReadingBook/Details/Details.module.css?fa87","components/ReadingBook/Diary/Diary.jsx","webpack://read-journey-project/./src/components/ReadingBook/Statistics/Statistics.module.css?090c","components/ReadingBook/Statistics/Statistics.jsx","helpers/getLastPage.js","components/ReadingBook/Details/Details.jsx","pages/ReadingPage/ReadingPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"readingPageWrapper\":\"ReadingPage_readingPageWrapper__v6iag\"};","export const selectReadingBook = state => state.reading.readingBook;\nexport const selectReadingIsLoading = state => state.reading.isLoading;\nexport const selectReadingError = state => state.reading.error;\nexport const selectIsWhileReading = state => state.reading.isWhileReading;\n","// extracted by mini-css-extract-plugin\nexport default {\"myBookSction\":\"MyBook_myBookSction__tYIsb\",\"titleWrapper\":\"MyBook_titleWrapper__MhOFj\",\"readingTime\":\"MyBook_readingTime__OQ4Nk\",\"bookWrapper\":\"MyBook_bookWrapper__gz46v\",\"statusSvg\":\"MyBook_statusSvg__aBDWL\"};","import css from './MyBook.module.css';\nimport sprite from '../../../assets/images/sprite.svg';\nimport { useSelector } from 'react-redux';\nimport { defaultImageBookbigPng } from 'assets/images/defaultImages/defaultImages';\nimport { selectIsWhileReading } from '../../../redux/books/readingBook/readingBookSelectors';\n\nconst MyBook = ({ book }) => {\n  const isWhileReading = useSelector(selectIsWhileReading);\n  const { imageUrl, title, author, timeLeftToRead } = book;\n\n  const hours = timeLeftToRead?.hours;\n  const minutes = timeLeftToRead?.minutes;\n\n  return (\n    <section className={css.myBookSction}>\n      <div className={css.titleWrapper}>\n        <h2>My reading</h2>\n        {timeLeftToRead && (\n          <p className={css.readingTime}>\n            {hours} hours and {minutes} minutes left\n          </p>\n        )}\n      </div>\n      <div className={css.bookWrapper}>\n        <img src={imageUrl ? imageUrl : defaultImageBookbigPng} alt={title} />\n        <h3>{title}</h3>\n        <p>{author}</p>\n      </div>\n      {isWhileReading ? (\n        <svg className={css.statusSvg} aria-label=\"stop icon\">\n          <use href={sprite + '#icon-stop'}></use>\n        </svg>\n      ) : (\n        <svg className={css.statusSvg} aria-label=\"start icon\">\n          <use href={sprite + '#icon-start'}></use>\n        </svg>\n      )}\n    </section>\n  );\n};\nexport default MyBook;\n","// extracted by mini-css-extract-plugin\nexport default {\"progressSection\":\"Progress_progressSection__4btKy\",\"imageWrapper\":\"Progress_imageWrapper__oM5ug\",\"starImage\":\"Progress_starImage__gnxPj\"};","import css from './Progress.module.css';\nimport { starPng } from 'assets/images/defaultImages/defaultImages';\nconst Progress = () => {\n  return (\n    <section className={css.progressSection}>\n      <h3>Progress</h3>\n      <p>\n        Here you will see when and how much you read. To record, click on the\n        button above.\n      </p>\n      <div className={css.imageWrapper}>\n        <img src={starPng} alt=\"star\" className={css.starImage} />\n      </div>\n    </section>\n  );\n};\nexport default Progress;\n","// extracted by mini-css-extract-plugin\nexport default {\"formTitile\":\"AddReadingForm_formTitile__aT8iT\",\"readingForm\":\"AddReadingForm_readingForm__Oub4O\",\"inputWrapper\":\"AddReadingForm_inputWrapper__H-ZNz\",\"pageInput\":\"AddReadingForm_pageInput__eIV8F\",\"error\":\"AddReadingForm_error__bjRbB\",\"correct\":\"AddReadingForm_correct__G0Go3\",\"errorMessage\":\"AddReadingForm_errorMessage__o-64B\",\"correctMessage\":\"AddReadingForm_correctMessage__8kdVp\",\"formBtn\":\"AddReadingForm_formBtn__rQqnR\",\"formBnt\":\"AddReadingForm_formBnt__OPDSz\"};","import css from './AddReadingForm.module.css';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport {\n  finishReadingThunk,\n  startReadingThunk,\n} from '../../../redux/books/readingBook/readingBookOperations';\nimport { useState } from 'react';\n\nconst AddReadingForm = ({ book }) => {\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const { _id, totalPages, progress } = book;\n  const dispatch = useDispatch();\n\n  const isBookFirstRender = progress\n    .map(point => point.status)\n    .some(value => value === 'active');\n\n  const [isActive, setIsActive] = useState(isBookFirstRender);\n  const isAct = isFirstRender ? isBookFirstRender : isActive;\n\n  const schema = Yup.object({\n    page: Yup.number()\n      .required('Enter page number')\n      .typeError('Hmm... I think this is not a number :)')\n      .min(1)\n      .max(`${totalPages}`),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid, dirtyFields },\n    reset,\n  } = useForm({ mode: 'onChange', resolver: yupResolver(schema) });\n\n  const togleOnSubmit = async ({ page }) => {\n    const sentData = {\n      id: _id,\n      page: page,\n    };\n    try {\n      if (isAct) {\n        await dispatch(finishReadingThunk(sentData));\n        setIsActive(false);\n      } else {\n        await dispatch(startReadingThunk(sentData));\n        setIsActive(true);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsFirstRender(false);\n      reset();\n    }\n  };\n\n  return (\n    <section className={css.readingFormSection}>\n      {isAct ? (\n        <p className={css.formTitile}>Stop page:</p>\n      ) : (\n        <p className={css.formTitile}>Start page:</p>\n      )}\n\n      <form\n        onSubmit={handleSubmit(togleOnSubmit)}\n        autoComplete=\"off\"\n        className={css.readingForm}\n      >\n        <div className={css.inputWrapper}>\n          <label htmlFor=\"page\">Page number:</label>\n          <input\n            type=\"text\"\n            name=\"page\"\n            id=\"page\"\n            {...register('page')}\n            className={`${css.pageInput} ${errors.page && css.error} \n            ${dirtyFields.page && !errors.page && css.correct}`}\n          />\n          {errors?.page && (\n            <p className={css.errorMessage}>{errors.page?.message}</p>\n          )}\n          {dirtyFields.page && !errors.page && (\n            <p className={css.correctMessage}>Correct</p>\n          )}\n        </div>\n\n        <button disabled={!isValid} className={css.formBtn}>\n          {isAct ? 'To stop' : 'To start'}\n        </button>\n      </form>\n    </section>\n  );\n};\nexport default AddReadingForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"active\":\"Details_active__juBcP\"};","// import css from './Diary.module.css'\n\n// import { formatingDate } from 'helpers/formatingDate';\n\nconst Diary = ({ book }) => {\n  const {\n    progress,\n    // totalPages\n  } = book;\n  return (\n    <>\n      <ul>\n        {progress.map(\n          ({\n            startPage,\n            finishPage,\n            startReading,\n            finishReading,\n            _id,\n            speed,\n            status,\n          }) => (\n            <li key={_id}>\n              {/* <p>{formatingDate(finishReading)}</p> */}\n              {/* <p>startPage: {startPage}</p>\n              <p>finishPage: {finishPage}</p>\n              <p>startReading: {startReading}</p>\n              <p>finishReading: {finishReading}</p> */}\n            </li>\n          )\n        )}\n      </ul>\n    </>\n  );\n};\nexport default Diary;\n","// extracted by mini-css-extract-plugin\nexport default {\"statisticsBlok\":\"Statistics_statisticsBlok__DuJqf\",\"statisticsDescr\":\"Statistics_statisticsDescr__Dysij\",\"chartWrapper\":\"Statistics_chartWrapper__5odmb\",\"chartBox\":\"Statistics_chartBox__ZZV5w\",\"pie\":\"Statistics_pie__-xJWB\",\"p\":\"Statistics_p__zAjY5\",\"pieDescriptionBox\":\"Statistics_pieDescriptionBox__-VgHF\",\"colorBox\":\"Statistics_colorBox__-yj1N\",\"pieDescription\":\"Statistics_pieDescription__gXsxB\"};","import css from './Statistics.module.css';\nimport { getLastPage } from 'helpers/getLastPage';\n\nconst Statistics = ({ book }) => {\n  const { totalPages, progress } = book;\n\n  const lastPageRead = getLastPage(progress, totalPages);\n\n  const readingProgress = ((lastPageRead * 100) / totalPages).toFixed(2);\n\n  return (\n    <div className={css.statisticsBlok}>\n      <h3>Statistics</h3>\n      <p className={css.statisticsDescr}>\n        Each page, each chapter is a new round of knowledge, a new step towards\n        understanding. By rewriting statistics, we create our own reading\n        history.\n      </p>\n      <div className={css.chartWrapper}>\n        <div className={css.chartBox}>\n          <div className={css.pie} style={{ '--p': `${readingProgress}` }}>\n            100%\n          </div>\n        </div>\n        <div className={css.pieDescriptionBox}>\n          <div className={css.colorBox}></div>\n          <div className={css.pieDescription}>\n            <span>{readingProgress}%</span>\n            <p>\n              {lastPageRead} {lastPageRead !== 1 ? 'pages' : 'page'} read\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Statistics;\n","export const getLastPage = (progress, totalPages) => {\n  const lastProgressPoint = progress[progress.length - 1];\n  const lastPageRead =\n    lastProgressPoint.finishPage ?? progress[progress.length - 2].finishPage;\n\n  return lastPageRead > totalPages ? totalPages : lastPageRead;\n};\n","import css from './Details.module.css';\n\nimport { useState } from 'react';\nimport Diary from '../Diary/Diary';\nimport Statistics from '../Statistics/Statistics';\n\nconst Details = ({ book }) => {\n  const [activeChild, setActiveChild] = useState('Diary');\n  // const { progress } = book;\n  // console.log('progress: ', progress);\n  return (\n    <>\n      <div className={css.navigationLinks}>\n        <button\n          onClick={() => setActiveChild('Diary')}\n          className={`${css.navLink} ${activeChild === 'Diary' && css.active}`}\n        >\n          Diary\n        </button>\n        <button\n          onClick={() => setActiveChild('Statistics')}\n          className={`${css.navLink} ${\n            activeChild === 'Statistics' && css.active\n          }`}\n        >\n          Statistics\n        </button>\n      </div>\n      {activeChild === 'Diary' && <Diary book={book} />}\n      {activeChild === 'Statistics' && <Statistics />}\n    </>\n  );\n};\nexport default Details;\n","import css from './ReadingPage.module.css';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { getRedingBookThunk } from '../../redux/books/readingBook/readingBookOperations';\nimport {\n  selectReadingBook,\n  selectReadingIsLoading,\n} from '../../redux/books/readingBook/readingBookSelectors';\nimport Dashboard from 'components/reUseComponents/Dashboard/Dashboard';\nimport MyBook from 'components/ReadingBook/MyBook/MyBook';\nimport Progress from 'components/ReadingBook/Progress/Progress';\nimport AddReadingForm from 'components/Forms/AddReadingForm/AddReadingForm';\nimport Details from 'components/ReadingBook/Details/Details';\n\nconst ReadingPage = () => {\n  const location = useLocation();\n  const bookId = location.state?.bookId;\n  const book = useSelector(selectReadingBook);\n  console.log('book: ', book);\n  const isLoading = useSelector(selectReadingIsLoading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getRedingBookThunk(bookId));\n  }, [dispatch, bookId]);\n\n  if (!bookId) {\n    return <Navigate to=\"/library\" />;\n  }\n\n  return (\n    <>\n      {isLoading && <p>Loading...</p>}\n      {book && (\n        <div className={css.readingPageWrapper}>\n          <Dashboard>\n            <AddReadingForm book={book} />\n            {book.status === 'unread' ? <Progress /> : <Details book={book} />}\n          </Dashboard>\n          <MyBook book={book} />\n        </div>\n      )}\n    </>\n  );\n};\nexport default ReadingPage;\n"],"names":["selectReadingBook","state","reading","readingBook","selectReadingIsLoading","isLoading","selectIsWhileReading","isWhileReading","_ref","book","useSelector","imageUrl","title","author","timeLeftToRead","hours","minutes","_jsxs","className","css","children","_jsx","src","defaultImageBookbigPng","alt","href","sprite","starPng","_errors$page","_useState","useState","_useState2","_slicedToArray","isFirstRender","setIsFirstRender","_id","totalPages","progress","dispatch","useDispatch","isBookFirstRender","map","point","status","some","value","_useState3","_useState4","isActive","setIsActive","isAct","schema","Yup","page","required","typeError","min","max","concat","_useForm","useForm","mode","resolver","yupResolver","register","handleSubmit","_useForm$formState","formState","errors","isValid","dirtyFields","reset","togleOnSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","_callee","_ref2","sentData","_context","prev","next","id","finishReadingThunk","startReadingThunk","t0","console","error","finish","stop","_x","apply","arguments","onSubmit","autoComplete","htmlFor","_objectSpread","type","name","message","disabled","_Fragment","startPage","finishPage","startReading","finishReading","speed","lastPageRead","_lastProgressPoint$fi","length","getLastPage","readingProgress","toFixed","style","activeChild","setActiveChild","onClick","Diary","Statistics","_location$state","bookId","useLocation","log","useEffect","getRedingBookThunk","Dashboard","AddReadingForm","Progress","Details","MyBook","Navigate","to"],"sourceRoot":""}