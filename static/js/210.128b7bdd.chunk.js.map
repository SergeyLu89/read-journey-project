{"version":3,"file":"static/js/210.128b7bdd.chunk.js","mappings":"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","sources":["redux/books/readingBook/readingBookSelectors.js","components/ReadingBook/MyBook/MyBook.module.css","components/ReadingBook/MyBook/MyBook.jsx","components/ReadingBook/Progress/Progress.jsx","components/Forms/AddReadingForm/AddReadingForm.module.css","components/Forms/AddReadingForm/AddReadingForm.jsx","webpack://read-journey-project/./src/components/ReadingBook/Details/Details.module.css?fa87","components/ReadingBook/Diary/Diary.jsx","components/ReadingBook/Statistics/Statistics.jsx","components/ReadingBook/Details/Details.jsx","pages/ReadingPage/ReadingPage.jsx"],"sourcesContent":["export const selectReadingBook = state => state.reading.readingBook;\nexport const selectReadingIsLoading = state => state.reading.isLoading;\nexport const selectReadingError = state => state.reading.error;\nexport const selectIsWhileReading = state => state.reading.isWhileReading;\n","// extracted by mini-css-extract-plugin\nexport default {};","import { useSelector } from 'react-redux';\nimport css from './MyBook.module.css';\nimport { defaultImageBookbigPng } from 'assets/images/defaultImages/defaultImages';\nimport { selectIsWhileReading } from '../../../redux/books/readingBook/readingBookSelectors';\n\nconst MyBook = ({ book }) => {\n  const isWhileReading = useSelector(selectIsWhileReading);\n  const { imageUrl, title, author } = book;\n  return (\n    <section>\n      <h2>My reading</h2>\n      <div>\n        <img src={imageUrl ? imageUrl : defaultImageBookbigPng} alt={title} />\n        <h3>{title}</h3>\n        <p>{author}</p>\n      </div>\n      {isWhileReading ? (\n        <span className={css.indicatorStop}>STOP</span>\n      ) : (\n        <span className={css.indicatorStart}>START</span>\n      )}\n    </section>\n  );\n};\nexport default MyBook;\n","// import css from './Progress.module.css'\nconst Progress = () => {\n  return (\n    <>\n      <h3>Progress</h3>\n      <p>\n        Here you will see when and how much you read. To record, click on the\n        button above.\n      </p>\n      <p>ðŸŒŸ</p>\n    </>\n  );\n};\nexport default Progress;\n","// extracted by mini-css-extract-plugin\nexport default {};","import css from './AddReadingForm.module.css';\nimport { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as Yup from 'yup';\nimport { useDispatch } from 'react-redux';\nimport {\n  finishReadingThunk,\n  startReadingThunk,\n} from '../../../redux/books/readingBook/readingBookOperations';\nimport { useState } from 'react';\n\nconst AddReadingForm = ({ book }) => {\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const { _id, totalPages, progress } = book;\n  const dispatch = useDispatch();\n\n  const isBookFirstRender = progress\n    .map(point => point.status)\n    .some(value => value === 'active');\n\n  const [isActive, setIsActive] = useState(isBookFirstRender);\n  const isAct = isFirstRender ? isBookFirstRender : isActive;\n\n  const schema = Yup.object({\n    page: Yup.number()\n      .required('Enter page number')\n      .typeError('Hmm... I think this is not a number :)')\n      .min(1)\n      .max(`${totalPages}`),\n  });\n\n  const {\n    register,\n    handleSubmit,\n    formState: { errors, isValid },\n    reset,\n  } = useForm({ mode: 'onChange', resolver: yupResolver(schema) });\n\n  const togleOnSubmit = async ({ page }) => {\n    const sentData = {\n      id: _id,\n      page: page,\n    };\n    try {\n      if (isAct) {\n        await dispatch(finishReadingThunk(sentData));\n        setIsActive(false);\n      } else {\n        await dispatch(startReadingThunk(sentData));\n        setIsActive(true);\n      }\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsFirstRender(false);\n      reset();\n    }\n  };\n\n  return (\n    <>\n      {isAct ? <p>Stop page:</p> : <p>Start page:</p>}\n\n      <form\n        onSubmit={handleSubmit(togleOnSubmit)}\n        autoComplete=\"off\"\n        className={css.libraryForm}\n      >\n        <label htmlFor=\"page\">Page number:</label>\n        <input type=\"text\" name=\"page\" id=\"page\" {...register('page')} />\n        <p>{errors.page?.message}</p>\n        <button disabled={!isValid} className={css.formBtn}>\n          {isAct ? 'To stop' : 'To start'}\n        </button>\n      </form>\n    </>\n  );\n};\nexport default AddReadingForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"active\":\"Details_active__juBcP\"};","// import css from './Diary.module.css'\n\n// import { formatingDate } from 'helpers/formatingDate';\n\nconst Diary = ({ book }) => {\n  const {\n    progress,\n    // totalPages\n  } = book;\n  return (\n    <>\n      <ul>\n        {progress.map(\n          ({\n            startPage,\n            finishPage,\n            startReading,\n            finishReading,\n            _id,\n            speed,\n            status,\n          }) => (\n            <li key={_id}>\n              {/* <p>{formatingDate(finishReading)}</p> */}\n              {/* <p>startPage: {startPage}</p>\n              <p>finishPage: {finishPage}</p>\n              <p>startReading: {startReading}</p>\n              <p>finishReading: {finishReading}</p> */}\n            </li>\n          )\n        )}\n      </ul>\n    </>\n  );\n};\nexport default Diary;\n","// import css from './Statistics.module.css'\n\nconst Statistics = () => {\n  return <>STATISTICS</>;\n};\nexport default Statistics;\n","import css from './Details.module.css';\n\nimport { useState } from 'react';\nimport Diary from '../Diary/Diary';\nimport Statistics from '../Statistics/Statistics';\n\nconst Details = ({ book }) => {\n  const [activeChild, setActiveChild] = useState('Diary');\n  // const { progress } = book;\n  // console.log('progress: ', progress);\n  return (\n    <>\n      <div className={css.navigationLinks}>\n        <button\n          onClick={() => setActiveChild('Diary')}\n          className={`${css.navLink} ${activeChild === 'Diary' && css.active}`}\n        >\n          Diary\n        </button>\n        <button\n          onClick={() => setActiveChild('Statistics')}\n          className={`${css.navLink} ${\n            activeChild === 'Statistics' && css.active\n          }`}\n        >\n          Statistics\n        </button>\n      </div>\n      {activeChild === 'Diary' && <Diary book={book} />}\n      {activeChild === 'Statistics' && <Statistics />}\n    </>\n  );\n};\nexport default Details;\n","// import css from './ReadingPage.module.css'\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { getRedingBookThunk } from '../../redux/books/readingBook/readingBookOperations';\nimport {\n  selectReadingBook,\n  selectReadingIsLoading,\n} from '../../redux/books/readingBook/readingBookSelectors';\nimport Dashboard from 'components/reUseComponents/Dashboard/Dashboard';\nimport MyBook from 'components/ReadingBook/MyBook/MyBook';\nimport Progress from 'components/ReadingBook/Progress/Progress';\nimport AddReadingForm from 'components/Forms/AddReadingForm/AddReadingForm';\nimport Details from 'components/ReadingBook/Details/Details';\n\nconst ReadingPage = () => {\n  const location = useLocation();\n  const bookId = location.state?.bookId;\n  const book = useSelector(selectReadingBook);\n  console.log('book: ', book);\n  const isLoading = useSelector(selectReadingIsLoading);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getRedingBookThunk(bookId));\n  }, [dispatch, bookId]);\n\n  if (!bookId) {\n    return <Navigate to=\"/library\" />;\n  }\n\n  return (\n    <>\n      {isLoading && <p>Loading...</p>}\n      {book && (\n        <>\n          <Dashboard>\n            <AddReadingForm book={book} />\n            {book.status === 'unread' ? <Progress /> : <Details book={book} />}\n          </Dashboard>\n          <MyBook book={book} />\n        </>\n      )}\n    </>\n  );\n};\nexport default ReadingPage;\n"],"names":["selectReadingBook","state","reading","readingBook","selectReadingIsLoading","isLoading","selectIsWhileReading","isWhileReading","_ref","book","useSelector","imageUrl","title","author","_jsxs","children","_jsx","src","defaultImageBookbigPng","alt","className","css","_Fragment","_errors$page","_useState","useState","_useState2","_slicedToArray","isFirstRender","setIsFirstRender","_id","totalPages","progress","dispatch","useDispatch","isBookFirstRender","map","point","status","some","value","_useState3","_useState4","isActive","setIsActive","isAct","schema","Yup","page","required","typeError","min","max","concat","_useForm","useForm","mode","resolver","yupResolver","register","handleSubmit","_useForm$formState","formState","errors","isValid","reset","togleOnSubmit","_ref3","_asyncToGenerator","_regeneratorRuntime","_callee","_ref2","sentData","_context","prev","next","id","finishReadingThunk","startReadingThunk","t0","console","error","finish","stop","_x","apply","arguments","onSubmit","autoComplete","htmlFor","_objectSpread","type","name","message","disabled","startPage","finishPage","startReading","finishReading","speed","activeChild","setActiveChild","onClick","Diary","Statistics","_location$state","bookId","useLocation","log","useEffect","getRedingBookThunk","Dashboard","AddReadingForm","Progress","Details","MyBook","Navigate","to"],"sourceRoot":""}